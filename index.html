<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>ECMAScript 2015 (ES6) - Nova verzija JavaScript-a</title>

		<meta name="description" content="Prezentacija o novoj verziji JavaScript-a">
		<meta name="author" content="Miroslav Popović">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">
        <link rel="stylesheet" href="css/custom.css">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>ECMAScript 2015 (ES6)</h1>
					<h3>Nova verzija JavaScript-a</h3>
					<p>
						<small>
                            Autor: <a href="http://blog.miroslavpopovic.com">Miroslav Popovic</a> /
                            <a href="http://twitter.com/miroslavpopovic">@miroslavpopovic</a>
                        </small><br>
                        <small><a href="https://github.com/miroslavpopovic/ecmascript6">Fork me</a></small>
					</p>
				</section>

				<section>
					<h2>Malo istorije</h2>
                    <ul>
                        <li>Brendan Eich, Netscape</li>
                        <li>LiveScript, 1994</li>
                        <li>ECMA standardizacija, 1996</li>
                        <li>ECMAScript 3, 1999</li>
                        <li>ECMAScript 4, obustavljen razvoj</li>
                        <li>ECMAScript 5, 2009</li>
                        <li>ECMAScript 5.1, 2011</li>
                        <li>ECMAScript 6 (Harmony, ES6, ES 2015), 2015</li>
                        <li>ECMAScript 7, budućnost</li>
                    </ul>
				</section>

                <section>
                    <section>
                        <h2>Block scope</h2>

                        <div class="row">
                            <div class="column">
                                <h4>ES5</h4>
                                <pre>
                                    <code data-trim contenteditable>
function test() {
  var x = 1;
  var y = 2;

  {
    var x = 10;
    var y = 20;
  }

  console.log(x, y);
}
test();
                                    </code>
                                </pre>
                            </div>

                            <div class="column fragment">
                                <h4>ES6</h4>
                                <pre>
                                    <code data-trim contenteditable>
function test() {
  let x = 1;
  let y = 2;

  {
    let x = 10;
    let y = 20;
  }

  console.log(x, y);
}
test();
                                    </code>
                                </pre>
                            </div>
                        </div>
                    </section>

                    <section>
                        <h2>let i const</h2>
                        <ul>
                            <li><code>let</code> - definisanje varijabli što bliže mjestu korištenja</li>
                            <li><code>const</code> - konstanta, nije je moguće mijenjati</li>
                        </ul>
                        <pre>
                            <code data-trim contenteditable>
function test() {
  const PI = 3.141569;

  // PI = 6; -> GREŠKA

  console.log(PI);
}
                            </code>
                        </pre>
                    </section>
                </section>

                <section>
                    <section>
                        <h2>Funkcije: default parametri</h2>

                        <div class="row">
                            <div class="column">
                                <h4>ES5</h4>
                                <pre>
                                    <code data-trim contenteditable>
function logName(name) {
  name = name || 'Unknown';
  console.log('Name: ', name);
}

logName();
logName('JavaScript');
                                    </code>
                                </pre>
                            </div>

                            <div class="column fragment">
                                <h4>ES6</h4>
                                <pre>
                                    <code data-trim contenteditable>
function logName(name='Unknown') {
  console.log('Name: ', name);
}

logName();
logName('JavaScript');

//function f(x=Math.random()){...};
                                    </code>
                                </pre>
                            </div>
                        </div>
                    </section>

                    <section>
                        <h2>Funkcije: rest parametri</h2>

                        <div class="row">
                            <div class="column">
                                <h4>ES5</h4>
                                <pre>
                                    <code data-trim contenteditable>
function add(x) {
  var result = x;

  // arguments.forEach(...)
  for (var i = 1;
      i < arguments.length; i++) {
    result += arguments[i];
  }

  return result;
}

console.log(add(1, 2, 3, 4, 5));
                                    </code>
                                </pre>
                            </div>

                            <div class="column fragment">
                                <h4>ES6</h4>
                                <pre>
                                    <code data-trim contenteditable>
function add(x, ...numbers) {
  var result = x;

  numbers.forEach(function(y) {
    result += y;
  });

  return result;
}

console.log(add(1, 2, 3, 4, 5));
                                    </code>
                                </pre>
                            </div>
                        </div>
                    </section>

                    <section>
                        <h2>spread operator</h2>

                        <div class="row">
                            <div class="column">
                                <h4>ES5</h4>
                                <pre>
                                    <code data-trim contenteditable>
function add(x, y, z) {
  return x + y + z;
}

var numbers = [2, 4, 6];

console.log(
  add.apply(null, numbers));
                                    </code>
                                </pre>
                            </div>

                            <div class="column fragment">
                                <h4>ES6</h4>
                                <pre>
                                    <code data-trim contenteditable>
function add(x, y, z) {
  return x + y + z;
}

let numbers = [2, 4, 6];

console.log(add(...numbers));

// Primjer 2
let n2 =
  [1, 2, ...numbers, 7, ...[2, 3]];
console.log(n2);
// [1, 2, 2, 4, 6, 7, 2, 3]
                                    </code>
                                </pre>
                            </div>
                        </div>
                    </section>
                </section>

                <section>
                    <section>
                        <h2>Destructuring</h2>

                        <pre>
                            <code data-trim contenteditable>
let numbers = [10, 20];
let [a, b] = numbers;

console.log(a, b);

let position = { lat: 42.34455, lng: 17.34235 };
let {lat, lng} = position;

console.log(lat, lng);
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>Destructuring</h2>
                        <h3>kompleksni objekti</h3>

                        <pre>
                            <code data-trim contenteditable>
let book = {
  title: 'Lord of the Rings',
  author: 'J.R.R. Tolkien',
  pages: 550,
  tags: ['fantasy', 'fiction'],
  price: {
    hardcover: 34.5,
    softcover: 22.5
  }
};

let {author, tags: [,tag], price: {softcover}} = book;

console.log(author, tag, softcover);
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>Destructuring</h2>
                        <h3>parametri funkcije</h3>

                        <pre>
                            <code data-trim contenteditable>
let httpPost = function(url, {
    cache = true,
    contentType = 'application/json',
    timeout = 2500,
    headers = {}
  }) {
  console.log(url, cache, contentType, timeout, headers);
};

httpPost('http://google.com', {
  cache: false,
  headers: {
    Authorization: 'Bearer SOMETOKEN'
  }
});
                            </code>
                        </pre>
                    </section>
                </section>

                <section>
                    <h2>Template strings</h2>

                    <div class="row">
                        <div class="column">
                            <h4>ES5</h4>
                                <pre>
                                    <code data-trim contenteditable>
var firstName = 'Miroslav',
    lastName = 'Popovic';
var fullName =
    firstName + ' ' + lastName;

console.log(fullName);

var add = function(x, y) {
  return x + ' + ' + y +
    ' = ' + (x+y);
};

console.log(add(10, 5));
console.log('Više linija\n' +
    'sa plus operatorom');
                                    </code>
                                </pre>
                        </div>

                        <div class="column fragment">
                            <h4>ES6</h4>
                                <pre>
                                    <code data-trim contenteditable>
let firstName = 'Miroslav',
    lastName = 'Popovic';
let fullName =
    `${firstName} ${lastName}`;

console.log(fullName);

let add = function(x, y) {
  return `${x} + ${y} = ${x+y}`;
};

console.log(add(10, 5));
console.log(`Podrška
    za više linija sa backticks`);
                                    </code>
                                </pre>
                        </div>
                    </div>

                </section>

                <section>
                    <h2>Prošireni object literals</h2>
                        <pre>
                            <code data-trim contenteditable>
var obj = {
    // definisanje prototipa prilikom kreiranja objekta
    __proto__: theProtoObj,

    // prečica za ‘handler: handler’
    handler,

    // prečica za metode - 'toString: function() {}'
    toString() {
     // poziv metoda osnovne klase sa 'super'
     return 'd ' + super.toString();
    },

    // dinamička imena property-a
    [ 'prop_' + (() => 42)() ]: 42
};
                            </code>
                        </pre>
                </section>

                <section>
                    <section>
                        <h2>Arrows</h2>

                        <div class="row">
                            <div class="column">
                                <h4>ES5</h4>
                                <pre>
                                    <code data-trim contenteditable>
var square = function(x) {
  return x * x;
};
var add = function(x, y) {
  return x + y;
};
var total = function() {
  return square(add(5, 3));
};

console.log('5 * 5 = ', square(5));
console.log('2 + 3 = ', add(2, 3));
console.log(
  '(5 + 3)*(5 + 3) = ', total());
                                    </code>
                                </pre>
                            </div>

                            <div class="column fragment">
                                <h4>ES6</h4>
                                <pre>
                                    <code data-trim contenteditable>
let square = x => x * x;
let add = (x, y) => x + y;
let total = () => square(add(5,3));

console.log('5 * 5 = ', square(5));
console.log('2 + 3 = ', add(2, 3));
console.log(
  '(5 + 3)*(5 + 3) = ', total());
                                    </code>
                                </pre>
                            </div>
                        </div>
                    </section>

                    <section>
                        <h2>Multiline arrows</h2>

                        <div class="row">
                            <div class="column">
                                <h4>ES5</h4>
                                <pre>
                                    <code data-trim contenteditable>
var add = function(x, y) {
  var result = x + y;
  return result;
};

console.log('2 + 3 = ', add(2, 3));
                                    </code>
                                </pre>
                            </div>

                            <div class="column fragment">
                                <h4>ES6</h4>
                                <pre>
                                    <code data-trim contenteditable>
let add = (x, y) => {
  let result = x + y;
  return result;
};

console.log('2 + 3 = ', add(2, 3));
                                    </code>
                                </pre>
                            </div>
                        </div>
                    </section>
                    <section>
                        <h2>this</h2>

                        <div class="row">
                            <div class="column">
                                <h4>ES5</h4>
                                <pre>
                                    <code data-trim contenteditable>
var obj = {
  index: 1,

  loadData: function() {
    var self = this;

   $.get('http://ip.jsontest.com')
      .then(function(data) {
        console.log(
          'IP: ' + data.ip,
          'Index: ' + self.index)
      });
  }
};

obj.loadData();
                                    </code>
                                </pre>
                            </div>

                            <div class="column fragment">
                                <h4>ES6</h4>
                                <pre>
                                    <code data-trim contenteditable>
let obj = {
  index: 1,

  loadData: function() {
   $.get('http://ip.jsontest.com')
      .then((data) => {
        console.log(
          'IP: ' + data.ip,
          'Index: ' + this.index)
      });
  }
};

obj.loadData();
                                    </code>
                                </pre>
                            </div>
                        </div>
                    </section>
                </section>

                <section>
                    <h2>Promises</h2>

                    <pre>
                        <code data-trim contenteditable>
function timeout(duration = 0) {
    return new Promise((resolve, reject) => {
        setTimeout(resolve, duration);
    });
}

var p = timeout(1000).then(() => {
    return timeout(2000);
}).then(() => {
    throw new Error("hmm");
}).catch(err => {
    return Promise.all([timeout(100), timeout(200)]);
});

                        </code>
                    </pre>
                </section>

                <section>
                    <section>
                        <h2>Klase</h2>

                        <div class="row">
                            <div class="column">
                                <h4>ES5</h4>
                                <pre>
                                    <code data-trim contenteditable>
function Car(data) {
  this.model = data.model;
  this.year = data.year;
  this.wheels = data.wheels || 4;
}

Car.prototype.drive = function() {
  console.log(
    'Driving ' + this.model);
}

var yugo = new Car({
  model: 'Yugo 55', year: 1985 });

yugo.drive();
                                    </code>
                                </pre>
                            </div>

                            <div class="column fragment">
                                <h4>ES6</h4>
                                <pre>
                                    <code data-trim contenteditable>
class Car {
  constructor (data) {
    this.model = data.model;
    this.year = data.year;
    this.wheels = data.wheels || 4;
  }

  drive() {
    console.log(
      'Driving ' + this.model);
  }
}

let yugo = new Car({
  model: 'Yugo 55', year: 1985 });
yugo.drive();
                                    </code>
                                </pre>
                            </div>
                        </div>
                    </section>
                    <section>
                        <h2>Properties</h2>

                        <pre>
                            <code data-trim contenteditable>
class Car {
  constructor ({model, year, wheels=4}) {
    this.model = model; this.year = year; this.wheels = wheels;
  }

  get isNew() { return this._isNew; }
  set isNew(value) { this._isNew = value; }

  drive() {
    console.log(`Driving ${this.model}`); this.isNew = false;
  }
}
let yugo = new Car({ model: 'Yugo 55', year: 1985 });

yugo.drive();
console.log(yugo.isNew);
                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>Naslijeđivanje</h2>

                        <pre>
                            <code data-trim contenteditable>
class Car { ... }

class Truck extends Car {
  constructor ({model, year, wheels=6}) {
    super({model, year, wheels});
  }

  drive () {
    super.drive();
    console.log(`Driving like a boss with ${this.wheels} wheels`);
  }
}

let actros = new Truck({ model: 'Actros', year: 2005 });
actros.drive();
                            </code>
                        </pre>

                        <ul>
                            <li>Napomena: koristite kompoziciju umjesto nasleđivanja (favor composition over inheritance).</li>
                        </ul>
                    </section>
                    <section>
                        <h2>Statički metodi</h2>

                        <div class="row">
                            <div class="column">
                                <h4>ES5</h4>
                            <pre>
                                <code data-trim contenteditable>
function Car(data) {
  // ...
}

Car.drive = function(data) {
  console.log('Driving...');
}

//var yugo = new Car({
// model: 'Yugo 55', year: 1985 });
//yugo.drive();

Car.drive({ road: 'autobahn' });
                                </code>
                            </pre>
                            </div>

                            <div class="column fragment">
                                <h4>ES6</h4>
                            <pre>
                                <code data-trim contenteditable>
class Car {
  // ...
  static drive(data) {
    console.log('Driving...');
  }
}

//let yugo = new Car({
// model: 'Yugo 55', year: 1985 });
//yugo.drive();

Car.drive({ road: 'autobahn' });
                                </code>
                            </pre>
                            </div>
                        </div>
                    </section>
                </section>

                <section>
                    <section>
                        <h2>Moduli</h2>

                        <pre class="fragment">
                            <code data-trim contenteditable>
// lib/math.js
export function sum(x, y) {
  return x + y;
}
export var pi = 3.141593;

// app.js
import * as math from "lib/math";
alert("2π = " + math.sum(math.pi, math.pi));

// otherApp.js
import {sum, pi} from "lib/math";
alert("2π = " + sum(pi, pi));

                            </code>
                        </pre>
                    </section>
                    <section>
                        <h2>Module loader</h2>

                        <pre>
                            <code data-trim contenteditable>
System.import('some_module')
    .then(some_module => {
      // Use some_module
    })
    .catch(error => {
      //...
    });
                            </code>
                        </pre>

                        <ul>
                            <li><code>System</code> je default loader</li>
                            <li>Kofigurabilan je</li>
                            <li>Može da radi sa AMD ili CommonJS modulima</li>
                        </ul>
                    </section>
                </section>

                <section>
                    <section>
                        <h2>Ostalo</h2>
                        <ul>
                            <li>tagged templates<br/><code>upper`${firstName} ${lastName}`</code></li>
                            <li>podrška za cijeli Unicode</li>
                            <li>binarni i oktalni literali - <code>0b111110111</code>, <code>0o767</code> = 503</li>
                            <li>tail calls - rekurzivne funkcije ne izazivaju Stack Overflow grešku</li>
                            <li>Proširenje osnovne biblioteke<br><code>Math, Array, Object, Number, String</code></li>
                        </ul>
                    </section>
                    <section>
                        <h2>Ostalo (nastavak)</h2>
                        <ul>
                            <li><code>Set, WeakSet, Map, WeakMap</code> - data strukture</li>
                            <li>simboli - unikatne, nepromjenljive vrijednosti, mogu se koristiti kao property identifikatori</li>
                            <li>iteratori i for..of petlja</li>
                            <li>generatori<br/><code>let n = function*() { yield 1; yield 2; }</code></li>
                            <li>Proxy objekti</li>
                        </ul>
                    </section>
                </section>

                <section>
                    <section>
                        <h2>ECMAScript 2015 danas</h2>
                        <ul>
                            <li>
                                <a href="http://kangax.github.io/compat-table/es6/" target="_blank">http://kangax.github.io/compat-table/es6/</a>
                            </li>
                            <li>
                                <a href="https://github.com/sindresorhus/esnext-showcase" target="_blank">ES.next showcase</a>
                            </li>
                        </ul>
                    </section>

                    <section>
                        <h2>Kompajleri (transpilers)</h2>
                        <ul>
                            <li>
                                <a href="https://github.com/google/traceur-compiler" target="_blank">Traceur</a>
                                - prvi JS.next kompajler koji je kreirao Google
                            </li>
                            <li>koristi ga Angular tim</li>
                            <li>podržava i proširenja, kao npr. AtScript podrška za Angular</li>
                            <li><a href="https://babeljs.io/">Babel.js</a> (6to5) - najbolji kompajler danas</li>
                            <li>koristi ga Aurelia tim</li>
                            <li>...</li>
                        </ul>
                    </section>

                    <section>
                        <h2>Module loaders</h2>
                        <ul>
                            <li>
                                <a href="https://github.com/ModuleLoader/es6-module-loader" target="_blank">ES6 Module Loader</a> - polyfill
                            </li>
                            <li>
                                <a href="https://github.com/systemjs/systemjs" target="_blank">SystemJS</a> - univerzalni module loader
                                <ul>
                                    <li>ES6, AMD, CommonJS, globals</li>
                                    <li>radi i sa Traceur i Babel.js</li>
                                    <li>osnova za <a href="http://jspm.io/" target="_blank">jspm</a> package manager</li>
                                </ul>
                            </li>
                            <li>...</li>
                        </ul>
                    </section>

                    <section>
                        <h2>Razvojni alati</h2>

                        <ul>
                            <li>
                                <a href="http://www.visualstudio.com/en-us/products/visual-studio-community-vs.aspx" target="_blank">
                                    Visual Studio Community Edition
                                </a><br/>
                                <small>
                                    <a href="http://visualstudio.uservoice.com/forums/121579-visual-studio/suggestions/7017377-support-for-es6-modules" target="_blank">
                                        Glasajte za dodavanje podrške za ES6 module u VS
                                    </a>
                                </small>
                            </li>
                            <li>
                                <a href="https://www.jetbrains.com/webstorm/" target="_blank">JetBrains WebStorm IDE</a>
                            </li>
                            <li>
                                <a href="http://www.sublimetext.com/3" target="_blank">Sublime Text</a>
                            </li>
                        </ul>
                    </section>

                    <section>
                        <h2>Frameworks / languages</h2>
                        <ul>
                            <li><a href="http://www.typescriptlang.org/" target="_blank">TypeScript 2.0</a> - nadskup ES6</li>
                            <li><a href="https://github.com/angular/angular" target="_blank">Angular 2.0</a> - AtScript, nadskup TypeScript-a (nezvanično)</li>
                            <li><a href="http://emberjs.com/" target="_blank">Ember</a> - modules, promises</li>
                            <li><a href="http://aurelia.io/" target="_blank">Aurelia</a> - ES6 / ES7</li>
                        </ul>
                    </section>
                </section>

                <section>
                    <h2>Budućnost</h2>
                    <ul>
                        <li>ES7</li>
                        <li>prelazak na godišnja izdanja - ECMAScript 2015, 2016, 2017...</li>
                        <li><a href="https://github.com/tc39/ecma262" target="_blank">trenutni prijedlozi funkcionalnosti</a></li>
                        <li><code>Object.observe()</code></li>
                        <li><code>async/await</code></li>
                        <li>...</li>
                    </ul>
                </section>

                <section>
                    <h2>Linkovi</h2>

                    <ul>
                        <li><a href="http://wiki.ecmascript.org/doku.php?id=harmony:specification_drafts" target="_blank">ES6 specifikacija</a></li>
                        <li><a href="http://odetocode.com/" target="_blank">K. Scott Allen blog - ES6 postovi</a></li>
                        <li><a href="https://github.com/lukehoban/es6features#readme" target="_blank">Luke Hoban - ES6 features</a></li>
                        <li><a href="http://www.2ality.com/search/label/esnext" target="_blank">Dr. Alex Rauschmayer blog - ES6 postovi</a></li>
                        <li><a href="https://leanpub.com/understandinges6/read" target="_blank">Nicholas C. Zakas - Understanding ECMAScript 6</a></li>
                        <li><a href="http://jsmodules.io/" target="_blank">JS Modules</a> </li>
                    </ul>
                </section>

                <section>
                    <h2>Hvala!</h2>
                    <h2>Pitanja?</h2>
                </section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
